:root {
  --bg-main: #120909;
  --bg-navbar: #1b0f0f;
  --bg-panel: #1f1414;
  --bg-hover: #2a1a1a;

  --primary: #ff3c00;
  --secondary: #ff7a00;
  --accent: #ffae00;

  --text-main: #f5f5f5;
  --text-muted: #c9b2b2;

  --border-color: rgba(255, 90, 0, 0.2);

  /* Mapping vers l'architecture existante */
  --bg: var(--bg-main);
  --surface: var(--bg-navbar);
  --surface-alt: var(--bg-panel);
  --surface-elevated: var(--bg-hover);
  --text: var(--text-main);
  --muted: var(--text-muted);
  --primary-strong: #d63100;
  --on-primary: #fff4ea;
  --border: var(--border-color);
  --overlay: rgba(18, 9, 9, 0.62);
  --shadow-soft: 0 8px 20px rgba(0, 0, 0, 0.28);
  --shadow-strong: 0 16px 36px rgba(0, 0, 0, 0.42);
}

body {
  background: radial-gradient(circle at top left, #2a0f0f, #120909 70%);
  color: var(--text-main);
}

.navbar {
  background: linear-gradient(90deg, #1b0f0f, #2a1111);
  border-bottom: 1px solid var(--border-color);
}

.navbar-menu li a,
.nav-menu li .nav-btn,
.brand-text,
.brand-subtext {
  color: var(--text-main);
  transition: 0.3s ease;
}

.navbar-menu li a:hover,
.nav-menu li .nav-btn:hover,
.dropdown.open .nav-btn {
  color: var(--accent);
  text-shadow: 0 0 6px var(--primary);
}

.sidebar-left,
.sidebar-right,
.panel-left,
.panel-right,
.panel {
  background: var(--bg-panel);
  border-right: 1px solid var(--border-color);
}

.panel-header {
  background: linear-gradient(90deg, #2a1414, #3a1515);
  border-bottom: 1px solid var(--border-color);
}

.fab-button {
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  box-shadow: 0 0 15px rgba(255, 60, 0, 0.5);
}

.fab-button:hover {
  box-shadow: 0 0 25px rgba(255, 120, 0, 0.8);
}

.dropdown-menu,
.mobile-menu,
.fab-menu,
.modal-content,
.dashboard,
.install-toast,
.toast {
  background: #1a1010;
  border: 1px solid var(--border-color);
}

.dropdown-menu li:hover,
.dropdown-menu .menu-action:hover,
.mobile-menu .menu-action:hover,
.fab-menu .menu-action:hover,
.fab-menu .fab-item:hover {
  background: var(--bg-hover);
}

.mobile-bottom-bar,
.bottom-bar {
  background: linear-gradient(90deg, #1b0f0f, #2a1111);
  border-top: 1px solid var(--border-color);
  color: var(--text-main);
}

.mobile-bottom-bar button,
.bottom-bar button {
  color: var(--text-main);
}

.mobile-bottom-bar button:hover,
.bottom-bar button:hover {
  color: var(--accent);
}

.icon-btn,
.menu-action,
.nav-btn,
.kpi-card,
.layer-row,
.analysis-result,
.analysis-form input,
.analysis-form select {
  background: var(--bg-panel);
  color: var(--text-main);
  border-color: var(--border-color);
}

.icon-btn:hover,
.menu-action:hover {
  background: var(--bg-hover);
}

.leaflet-container {
  filter: saturate(1.05) contrast(1.05);
}

.leaflet-tile {
  filter: brightness(0.9) contrast(1.1);
}

/* Variante sombre toujours coherente avec le theme volcanique */
body.dark-theme {
  --bg-main: #0f0606;
  --bg-navbar: #160b0b;
  --bg-panel: #1a1010;
  --bg-hover: #291616;
  --primary: #ff4a12;
  --secondary: #ff8a1f;
  --accent: #ffc14d;
  --text-main: #fff0e8;
  --text-muted: #d7b7a6;
  --border-color: rgba(255, 106, 0, 0.3);
  --primary-strong: #de3a0c;
  --overlay: rgba(9, 3, 3, 0.72);
}
